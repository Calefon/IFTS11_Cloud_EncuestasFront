
<main class="flex flex-col gap-3 items-center justify-start w-full h-full bg-purple-200 p-7">
<form class=" flex flex-col gap-3 items-center justify-start w-full h-full bg-purple-200 p-7">
    <h1 class="font-bold text-xl">Complet√° tu respuesta!</h1>
    
    <section
    class="flex flex-col gap-2 items-start justify-center max-w-3/4 min-w-1/2 bg-white px-5 py-4 rounded-2xl mt-3"
    >

    @for (pregunta of encuesta.preguntas; track $index){
    @let qIndex = $index;

    <div class="flex flex-col w-full">
        <!--Para despues <ng-container *ngComponentOutlet=></ng-container>-->
        @let preguntaId = "preguntaId-"+$index;

        @switch (pregunta.tipoPregunta){

        @case ("opciones_radio"){

            <label class="font-medium text-lg" for={{preguntaId}}>{{pregunta.pregunta}}</label>

            @for (opcion of pregunta.opciones; track $index){
            <div class="w-full flex flex-row items-center">
                <input class="text-sm sm:text-base ms-1" type="radio" id="opcion-{{preguntaId}}-{{$index}}" name="opcion-{{preguntaId}}" value={{opcion}}
                    [(ngModel)]="respuesta.respuestas[qIndex].respuesta">
                <label class="text-sm sm:text-base ms-2" for="opcion-{{preguntaId}}-{{$index}}">{{opcion}}</label>
            </div>
            }

        }
        @case ("abierta"){

            <div class="w-full">
                <label class="font-medium text-base sm:text-lg" for={{preguntaId}}>{{pregunta.pregunta}}</label>
                <br>
                <textarea class="border-gray-300 border rounded-md outline-gray-300 text-start w-full h-14 text-sm sm:h-32 sm:text-base" id="{{preguntaId}}" name="{{preguntaId}}" type="text" [(ngModel)]="respuesta.respuestas[qIndex].respuesta"></textarea>
            </div>

        }
        }
    </div>
    }@empty {
    <h3>Cargando...</h3>
    }
    
    </section>
<button class="bg-purple-700 text-white hover:text-gray-200 font-bold py-2 px-4 mt-2 rounded-2xl cursor-pointer" type="submit" (click)="enviarRespuesta()">Enviar!</button>
</form>
</main>


<div class="mt-10 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6">
        <div class="sm:col-span-4">
          <label for="username" class="block text-sm/6 font-medium text-gray-900">Username</label>
          <div class="mt-2">
            <div class="flex items-center rounded-md bg-white pl-3 outline-1 -outline-offset-1 outline-gray-300 focus-within:outline-2 focus-within:-outline-offset-2 focus-within:outline-indigo-600">
              <div class="shrink-0 text-base text-gray-500 select-none sm:text-sm/6">workcation.com/</div>
              <input type="text" name="username" id="username" class="block min-w-0 grow py-1.5 pr-3 pl-1 text-base text-gray-900 placeholder:text-gray-400 focus:outline-none sm:text-sm/6" placeholder="janesmith" />
            </div>
          </div>
</div>